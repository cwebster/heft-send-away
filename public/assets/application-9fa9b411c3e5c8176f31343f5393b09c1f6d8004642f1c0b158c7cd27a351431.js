/*!
 * algoliasearch 2.9.4
 * https://github.com/algolia/algoliasearch-client-js
 * Copyright 2014 Algolia SAS; Licensed MIT
 */
function AlgoliaExplainResults(t,e,i){function n(t,e){var i=[];if("object"==typeof t&&"matchedWords"in t&&"value"in t){for(var s=!1,a=0;a<t.matchedWords.length;++a){var r=t.matchedWords[a];r in e||(e[r]=1,s=!0)}s&&i.push(t.value)}else if("[object Array]"===Object.prototype.toString.call(t))for(var o=0;o<t.length;++o){var u=n(t[o],e);i=i.concat(u)}else if("object"==typeof t)for(var h in t)t.hasOwnProperty(h)&&(i=i.concat(n(t[h],e)));return i}function s(t,e,i){var a=t._highlightResult||t;if(-1===i.indexOf("."))return i in a?n(a[i],e):[];for(var r=i.split("."),o=a,u=0;u<r.length;++u){if("[object Array]"===Object.prototype.toString.call(o)){for(var h=[],c=0;c<o.length;++c)h=h.concat(s(o[c],e,r.slice(u).join(".")));return h}if(!(r[u]in o))return[];o=o[r[u]]}return n(o,e)}var a={},r={},o=s(t,r,e);if(a.title=o.length>0?o[0]:"",a.subtitles=[],"undefined"!=typeof i)for(var u=0;u<i.length;++u)for(var h=s(t,r,i[u]),c=0;c<h.length;++c)a.subtitles.push({attr:i[u],value:h[c]});return a}!function(t,e){"use strict";t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i,n=t(document);t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=i.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+i.csrfParam()+'"]').val(i.csrfToken())},fire:function(e,i,n){var s=t.Event(i);return e.trigger(s,n),s.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&t.data("remote")!==!1},handleRemote:function(n){var s,a,r,o,u,h;if(i.fire(n,"ajax:before")){if(o=n.data("with-credentials")||null,u=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){s=n.attr("method"),a=n.attr("action"),r=n.serializeArray();var c=n.data("ujs:submit-button");c&&(r.push(c),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(s=n.data("method"),a=n.data("url"),r=n.serialize(),n.data("params")&&(r=r+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(s=n.data("method")||"get",a=n.data("url"),r=n.serialize(),n.data("params")&&(r=r+"&"+n.data("params"))):(s=n.data("method"),a=i.href(n),r=n.data("params")||null);return h={type:s||"GET",data:r,dataType:u,beforeSend:function(t,s){return s.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+s.accepts.script),i.fire(n,"ajax:beforeSend",[t,s])?void n.trigger("ajax:send",t):!1},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:i.isCrossDomain(a)},o&&(h.xhrFields={withCredentials:o}),a&&(h.url=a),i.ajax(h)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var i=document.createElement("a");try{return i.href=t,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||e.protocol+"//"+e.host==i.protocol+"//"+i.host)}catch(n){return!0}},handleMethod:function(n){var s=i.href(n),a=n.data("method"),r=n.attr("target"),o=i.csrfToken(),u=i.csrfParam(),h=t('<form method="post" action="'+s+'"></form>'),c='<input name="_method" value="'+a+'" type="hidden" />';u===e||o===e||i.isCrossDomain(s)||(c+='<input name="'+u+'" value="'+o+'" type="hidden" />'),r&&h.attr("target",r),h.hide().append(c).appendTo("body"),h.submit()},formElements:function(e,i){return e.is("form")?t(e[0].elements).filter(i):e.find(i)},disableFormElements:function(e){i.formElements(e,i.disableSelector).each(function(){i.disableFormElement(t(this))})},disableFormElement:function(t){var i,n;i=t.is("button")?"html":"val",n=t.data("disable-with"),t.data("ujs:enable-with",t[i]()),n!==e&&t[i](n),t.prop("disabled",!0)},enableFormElements:function(e){i.formElements(e,i.enableSelector).each(function(){i.enableFormElement(t(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";"undefined"!=typeof t.data("ujs:enable-with")&&t[e](t.data("ujs:enable-with")),t.prop("disabled",!1)},allowAction:function(t){var e,n=t.data("confirm"),s=!1;if(!n)return!0;if(i.fire(t,"confirm")){try{s=i.confirm(n)}catch(a){(console.error||console.log).call(console,a.stack||a)}e=i.fire(t,"confirm:complete",[s])}return s&&e},blankInputs:function(e,i,n){var s,a,r=t(),o=i||"input,textarea",u=e.find(o);return u.each(function(){if(s=t(this),a=s.is("input[type=checkbox],input[type=radio]")?s.is(":checked"):!!s.val(),a===n){if(s.is("input[type=radio]")&&u.filter('input[type=radio]:checked[name="'+s.attr("name")+'"]').length)return!0;r=r.add(s)}}),r.length?r:!1},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var n=t.data("disable-with");t.data("ujs:enable-with",t.html()),n!==e&&t.html(n),t.bind("click.railsDisable",function(t){return i.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},i.fire(n,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:enable-with")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:enable-with")&&t.rails.enableElement(e)})}),n.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),n.delegate(i.buttonDisableSelector,"ajax:complete",function(){i.enableFormElement(t(this))}),n.delegate(i.linkClickSelector,"click.rails",function(e){var n=t(this),s=n.data("method"),a=n.data("params"),r=e.metaKey||e.ctrlKey;if(!i.allowAction(n))return i.stopEverything(e);if(!r&&n.is(i.linkDisableSelector)&&i.disableElement(n),i.isRemote(n)){if(r&&(!s||"GET"===s)&&!a)return!0;var o=i.handleRemote(n);return o===!1?i.enableElement(n):o.fail(function(){i.enableElement(n)}),!1}return s?(i.handleMethod(n),!1):void 0}),n.delegate(i.buttonClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n)||!i.isRemote(n))return i.stopEverything(e);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var s=i.handleRemote(n);return s===!1?i.enableFormElement(n):s.fail(function(){i.enableFormElement(n)}),!1}),n.delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)&&i.isRemote(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),n.delegate(i.formSubmitSelector,"submit.rails",function(n){var s,a,r=t(this),o=i.isRemote(r);if(!i.allowAction(r))return i.stopEverything(n);if(r.attr("novalidate")===e&&(s=i.blankInputs(r,i.requiredInputSelector,!1),s&&i.fire(r,"ajax:aborted:required",[s])))return i.stopEverything(n);if(o){if(a=i.nonBlankInputs(r,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(r)},13);var u=i.fire(r,"ajax:aborted:file",[a]);return u||setTimeout(function(){i.enableFormElements(r)},13),u}return i.handleRemote(r),!1}setTimeout(function(){i.disableFormElements(r)},13)}),n.delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var s=n.attr("name"),a=s?{name:s,value:n.val()}:null;n.closest("form").data("ujs:submit-button",a)}),n.delegate(i.formSubmitSelector,"ajax:send.rails",function(e){this===e.target&&i.disableFormElements(t(this))}),n.delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this===e.target&&i.enableFormElements(t(this))}),t(function(){i.refreshCSRFTokens()}))}(jQuery),/* =========================================================
 * bootstrap-datepicker.js
 * http://www.eyecon.ro/bootstrap-datepicker
 * =========================================================
 * Copyright 2012 Stefan Petre
 * Improvements by Andrew Rowls
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */
function(t){function e(){return new Date(Date.UTC.apply(Date,arguments))}function i(e,i){var n,s=t(e).data(),a={},r=new RegExp("^"+i.toLowerCase()+"([A-Z])"),i=new RegExp("^"+i.toLowerCase());for(var o in s)i.test(o)&&(n=o.replace(r,function(t,e){return e.toLowerCase()}),a[n]=s[o]);return a}function n(e){var i={};if(c[e]||(e=e.split("-")[0],c[e])){var n=c[e];return t.each(h,function(t,e){e in n&&(i[e]=n[e])}),i}}var s=t(window),a=function(e,i){this._process_options(i),this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(l.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};a.prototype={constructor:a,_process_options:function(e){this._o=t.extend({},this._o,e);var i=this.o=t.extend({},this._o),n=i.language;switch(c[n]||(n=n.split("-")[0],c[n]||(n=u.language)),i.language=n,i.startView){case 2:case"decade":i.startView=2;break;case 1:case"year":i.startView=1;break;default:i.startView=0}switch(i.minViewMode){case 1:case"months":i.minViewMode=1;break;case 2:case"years":i.minViewMode=2;break;default:i.minViewMode=0}i.startView=Math.max(i.startView,i.minViewMode),i.weekStart%=7,i.weekEnd=(i.weekStart+6)%7;var s=l.parseFormat(i.format);i.startDate!==-(1/0)&&(i.startDate?i.startDate instanceof Date?i.startDate=this._local_to_utc(this._zero_time(i.startDate)):i.startDate=l.parseDate(i.startDate,s,i.language):i.startDate=-(1/0)),i.endDate!==1/0&&(i.endDate?i.endDate instanceof Date?i.endDate=this._local_to_utc(this._zero_time(i.endDate)):i.endDate=l.parseDate(i.endDate,s,i.language):i.endDate=1/0),i.daysOfWeekDisabled=i.daysOfWeekDisabled||[],t.isArray(i.daysOfWeekDisabled)||(i.daysOfWeekDisabled=i.daysOfWeekDisabled.split(/[,\s]*/)),i.daysOfWeekDisabled=t.map(i.daysOfWeekDisabled,function(t){return parseInt(t,10)});var a=String(i.orientation).toLowerCase().split(/\s+/g),r=i.orientation.toLowerCase();if(a=t.grep(a,function(t){return/^auto|left|right|top|bottom$/.test(t)}),i.orientation={x:"auto",y:"auto"},r&&"auto"!==r)if(1===a.length)switch(a[0]){case"top":case"bottom":i.orientation.y=a[0];break;case"left":case"right":i.orientation.x=a[0]}else r=t.grep(a,function(t){return/^left|right$/.test(t)}),i.orientation.x=r[0]||"auto",r=t.grep(a,function(t){return/^top|bottom$/.test(t)}),i.orientation.y=r[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,i,n=0;n<t.length;n++)e=t[n][0],i=t[n][1],e.on(i)},_unapplyEvents:function(t){for(var e,i,n=0;n<t.length;n++)e=t[n][0],i=t[n][1],e.off(i)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{mousedown:t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,i){var n=i||this.date,s=this._utc_to_local(n);this.element.trigger({type:e,date:s,format:t.proxy(function(t){var e=t||this.o.format;return l.formatDate(n,e,this.o.language)},this)})},show:function(t){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),this._attachSecondaryEvents(),t&&t.preventDefault(),this._trigger("show")},hide:function(t){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(t){return new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return this.date},setDate:function(t){this.setUTCDate(this._local_to_utc(t))},setUTCDate:function(t){this.date=t,this.setValue()},setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change()},getFormattedDate:function(t){return void 0===t&&(t=this.o.format),l.formatDate(this.date,t,this.o.language)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=this.picker.outerWidth(),i=this.picker.outerHeight(),n=10,a=s.width(),r=s.height(),o=s.scrollTop(),u=parseInt(this.element.parents().filter(function(){return"auto"!=t(this).css("z-index")}).first().css("z-index"))+10,h=this.component?this.component.parent().offset():this.element.offset(),c=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),l=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),d=h.left,p=h.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(d-=e-l)):(this.picker.addClass("datepicker-orient-left"),h.left<0?d-=h.left-n:h.left+e>a&&(d=a-e-n));var f,g,m=this.o.orientation.y;"auto"===m&&(f=-o+h.top-i,g=o+r-(h.top+c+i),m=Math.max(f,g)===g?"top":"bottom"),this.picker.addClass("datepicker-orient-"+m),"top"===m?p+=c:p-=i+parseInt(this.picker.css("padding-top")),this.picker.css({top:p,left:d,zIndex:u})}},_allow_update:!0,update:function(){if(this._allow_update){var t,e=new Date(this.date),i=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(t=arguments[0],t instanceof Date&&(t=this._local_to_utc(t)),i=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date),this.date=l.parseDate(t,this.o.format,this.o.language),i?this.setValue():t?e.getTime()!==this.date.getTime()&&this._trigger("changeDate"):this._trigger("clearDate"),this.date<this.o.startDate?(this.viewDate=new Date(this.o.startDate),this.date=new Date(this.o.startDate)):this.date>this.o.endDate?(this.viewDate=new Date(this.o.endDate),this.date=new Date(this.o.endDate)):(this.viewDate=new Date(this.date),this.date=new Date(this.date)),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var i='<th class="cw">&nbsp;</th>';e+=i,this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+c[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+c[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var i=[],n=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),a=this.date.valueOf(),r=new Date;return e.getUTCFullYear()<n||e.getUTCFullYear()==n&&e.getUTCMonth()<s?i.push("old"):(e.getUTCFullYear()>n||e.getUTCFullYear()==n&&e.getUTCMonth()>s)&&i.push("new"),this.o.todayHighlight&&e.getUTCFullYear()==r.getFullYear()&&e.getUTCMonth()==r.getMonth()&&e.getUTCDate()==r.getDate()&&i.push("today"),a&&e.valueOf()==a&&i.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&i.push("range"),-1!=t.inArray(e.valueOf(),this.range)&&i.push("selected")),i},fill:function(){var i,n=new Date(this.viewDate),s=n.getUTCFullYear(),a=n.getUTCMonth(),r=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),o=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),u=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,h=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0;this.date&&this.date.valueOf();this.picker.find(".datepicker-days thead th.datepicker-switch").text(c[this.o.language].months[a]+" "+s),this.picker.find("tfoot th.today").text(c[this.o.language].today).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(c[this.o.language].clear).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var d=e(s,a-1,28,0,0,0,0),p=l.getDaysInMonth(d.getUTCFullYear(),d.getUTCMonth());d.setUTCDate(p),d.setUTCDate(p-(d.getUTCDay()-this.o.weekStart+7)%7);var f=new Date(d);f.setUTCDate(f.getUTCDate()+42),f=f.valueOf();for(var g,m=[];d.valueOf()<f;){if(d.getUTCDay()==this.o.weekStart&&(m.push("<tr>"),this.o.calendarWeeks)){var v=new Date(+d+(this.o.weekStart-d.getUTCDay()-7)%7*864e5),y=new Date(+v+(11-v.getUTCDay())%7*864e5),b=new Date(+(b=e(y.getUTCFullYear(),0,1))+(11-b.getUTCDay())%7*864e5),w=(y-b)/864e5/7+1;m.push('<td class="cw">'+w+"</td>")}if(g=this.getClassNames(d),g.push("day"),this.o.beforeShowDay!==t.noop){var k=this.o.beforeShowDay(this._utc_to_local(d));void 0===k?k={}:"boolean"==typeof k?k={enabled:k}:"string"==typeof k&&(k={classes:k}),k.enabled===!1&&g.push("disabled"),k.classes&&(g=g.concat(k.classes.split(/\s+/))),k.tooltip&&(i=k.tooltip)}g=t.unique(g),m.push('<td class="'+g.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+d.getUTCDate()+"</td>"),d.getUTCDay()==this.o.weekEnd&&m.push("</tr>"),d.setUTCDate(d.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(m.join(""));var _=this.date&&this.date.getUTCFullYear(),D=this.picker.find(".datepicker-months").find("th:eq(1)").text(s).end().find("span").removeClass("active");_&&_==s&&D.eq(this.date.getUTCMonth()).addClass("active"),(r>s||s>u)&&D.addClass("disabled"),s==r&&D.slice(0,o).addClass("disabled"),s==u&&D.slice(h+1).addClass("disabled"),m="",s=10*parseInt(s/10,10);var x=this.picker.find(".datepicker-years").find("th:eq(1)").text(s+"-"+(s+9)).end().find("td");s-=1;for(var C=-1;11>C;C++)m+='<span class="year'+(-1==C?" old":10==C?" new":"")+(_==s?" active":"")+(r>s||s>u?" disabled":"")+'">'+s+"</span>",s+=1;x.html(m)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(i){i.preventDefault();var n=t(i.target).closest("span, td, th");if(1==n.length)switch(n[0].nodeName.toLowerCase()){case"th":switch(n[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var s=l.modes[this.viewMode].navStep*("prev"==n[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,s),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,s),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var a=new Date;a=e(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0),this.showMode(-2);var r="linked"==this.o.todayBtn?null:"view";this._setDate(a,r);break;case"clear":var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.val("").change(),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()}break;case"span":if(!n.is(".disabled")){if(this.viewDate.setUTCDate(1),n.is(".month")){var u=1,h=n.parent().find("span").index(n),c=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(h),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(e(c,h,u,0,0,0,0))}else{var c=parseInt(n.text(),10)||0,u=1,h=0;this.viewDate.setUTCFullYear(c),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(e(c,h,u,0,0,0,0))}this.showMode(-1),this.fill()}break;case"td":if(n.is(".day")&&!n.is(".disabled")){var u=parseInt(n.text(),10)||1,c=this.viewDate.getUTCFullYear(),h=this.viewDate.getUTCMonth();n.is(".old")?0===h?(h=11,c-=1):h-=1:n.is(".new")&&(11==h?(h=0,c+=1):h+=1),this._setDate(e(c,h,u,0,0,0,0))}}},_setDate:function(t,e){e&&"date"!=e||(this.date=new Date(t)),e&&"view"!=e||(this.viewDate=new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||e&&"date"!=e||this.hide()},moveMonth:function(t,e){if(!e)return t;var i,n,s=new Date(t.valueOf()),a=s.getUTCDate(),r=s.getUTCMonth(),o=Math.abs(e);if(e=e>0?1:-1,1==o)n=-1==e?function(){return s.getUTCMonth()==r}:function(){return s.getUTCMonth()!=i},i=r+e,s.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var u=0;o>u;u++)s=this.moveMonth(s,e);i=s.getUTCMonth(),s.setUTCDate(a),n=function(){return i!=s.getUTCMonth()}}for(;n();)s.setUTCDate(--a),s.setUTCMonth(i);return s},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27==t.keyCode&&this.show());var e,i,n,s=!1;switch(t.keyCode){case 27:this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37==t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.date,e),n=this.moveYear(this.viewDate,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.date,e),n=this.moveMonth(this.viewDate,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+e),n=new Date(this.viewDate),n.setUTCDate(this.viewDate.getUTCDate()+e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),t.preventDefault(),s=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38==t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.date,e),n=this.moveYear(this.viewDate,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.date,e),n=this.moveMonth(this.viewDate,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+7*e),n=new Date(this.viewDate),n.setUTCDate(this.viewDate.getUTCDate()+7*e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),t.preventDefault(),s=!0);break;case 13:this.hide(),t.preventDefault();break;case 9:this.hide()}if(s){this._trigger("changeDate");var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+l.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var r=function(e,i){this.element=t(e),this.inputs=t.map(i.inputs,function(t){return t.jquery?t[0]:t}),delete i.inputs,t(this.inputs).datepicker(i).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};r.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.date}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,i){i.setRange(e)})},dateUpdated:function(e){var i=t(e.target).data("datepicker"),n=i.getUTCDate(),s=t.inArray(e.target,this.inputs),a=this.inputs.length;if(-1!=s){if(n<this.dates[s])for(;s>=0&&n<this.dates[s];)this.pickers[s--].setUTCDate(n);else if(n>this.dates[s])for(;a>s&&n>this.dates[s];)this.pickers[s++].setUTCDate(n);this.updateDates()}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var o=t.fn.datepicker;t.fn.datepicker=function(e){var s=Array.apply(null,arguments);s.shift();var o;return this.each(function(){var h=t(this),c=h.data("datepicker"),l="object"==typeof e&&e;if(!c){var d=i(this,"date"),p=t.extend({},u,d,l),f=n(p.language),g=t.extend({},u,f,d,l);if(h.is(".input-daterange")||g.inputs){var m={inputs:g.inputs||h.find("input").toArray()};h.data("datepicker",c=new r(this,t.extend(g,m)))}else h.data("datepicker",c=new a(this,g))}return"string"==typeof e&&"function"==typeof c[e]&&(o=c[e].apply(c,s),void 0!==o)?!1:void 0}),void 0!==o?o:this};var u=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},h=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=a;var c=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},l={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,l.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\x00").split("\x00"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(i,n,s){if(i instanceof Date)return i;if("string"==typeof n&&(n=l.parseFormat(n)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){var r,o,u=/([\-+]\d+)([dmwy])/,h=i.match(/([\-+]\d+)([dmwy])/g);i=new Date;for(var d=0;d<h.length;d++)switch(r=u.exec(h[d]),o=parseInt(r[1]),r[2]){case"d":i.setUTCDate(i.getUTCDate()+o);break;case"m":i=a.prototype.moveMonth.call(a.prototype,i,o);break;case"w":i.setUTCDate(i.getUTCDate()+7*o);break;case"y":i=a.prototype.moveYear.call(a.prototype,i,o)}return e(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}var p,f,r,h=i&&i.match(this.nonpunctuation)||[],i=new Date,g={},m=["yyyy","yy","M","MM","m","mm","d","dd"],v={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!=e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};v.M=v.MM=v.mm=v.m,v.dd=v.d,i=e(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var y=n.parts.slice();if(h.length!=y.length&&(y=t(y).filter(function(e,i){return-1!==t.inArray(i,m)}).toArray()),h.length==y.length){for(var d=0,b=y.length;b>d;d++){if(p=parseInt(h[d],10),r=y[d],isNaN(p))switch(r){case"MM":f=t(c[s].months).filter(function(){var t=this.slice(0,h[d].length),e=h[d].slice(0,t.length);return t==e}),p=t.inArray(f[0],c[s].months)+1;break;case"M":f=t(c[s].monthsShort).filter(function(){var t=this.slice(0,h[d].length),e=h[d].slice(0,t.length);return t==e}),p=t.inArray(f[0],c[s].monthsShort)+1}g[r]=p}for(var w,k,d=0;d<m.length;d++)k=m[d],k in g&&!isNaN(g[k])&&(w=new Date(i),v[k](w,g[k]),isNaN(w)||(i=w))}return i},formatDate:function(e,i,n){"string"==typeof i&&(i=l.parseFormat(i));var s={d:e.getUTCDate(),D:c[n].daysShort[e.getUTCDay()],DD:c[n].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:c[n].monthsShort[e.getUTCMonth()],MM:c[n].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};s.dd=(s.d<10?"0":"")+s.d,s.mm=(s.m<10?"0":"")+s.m;for(var e=[],a=t.extend([],i.separators),r=0,o=i.parts.length;o>=r;r++)a.length&&e.push(a.shift()),e.push(s[i.parts[r]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};l.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+l.headTemplate+"<tbody></tbody>"+l.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+l.headTemplate+l.contTemplate+l.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+l.headTemplate+l.contTemplate+l.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=l,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=o,this},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var i=t(this);i.data("datepicker")||(e.preventDefault(),i.datepicker("show"))}),t(function(){t('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),$(document).ready(function(){$("#source").select2(),$("#multi").val(["Jim","Lucy"]).select2(),$(".input-append.date").datepicker({autoclose:!0,todayHighlight:!0}),$("#dp5").datepicker(),$("#sandbox-advance").datepicker({format:"dd/mm/yyyy",startView:1,daysOfWeekDisabled:"3,4",autoclose:!0,todayHighlight:!0})});var ALGOLIA_VERSION="2.9.4",AlgoliaSearch=function(t,e,i,n,s){var a=this;this.applicationID=t,this.apiKey=e,this.dsn=!0,this.dsnHost=null,this.hosts=[],this.currentHostIndex=0,this.requestTimeoutInMs=2e3,this.extraHeaders=[],this.jsonp=null,this.options={},this.cache={};var r,o="net";if("string"==typeof i)r=i;else{var u=i||{};this.options=u,this._isUndefined(u.method)||(r=u.method),this._isUndefined(u.tld)||(o=u.tld),this._isUndefined(u.dsn)||(this.dsn=u.dsn),this._isUndefined(u.hosts)||(s=u.hosts),this._isUndefined(u.dsnHost)||(this.dsnHost=u.dsnHost),this._isUndefined(u.requestTimeoutInMs)||(this.requestTimeoutInMs=+u.requestTimeoutInMs),this._isUndefined(u.jsonp)||(this.jsonp=u.jsonp)}this._isUndefined(s)&&(s=[this.applicationID+"-1.algolia."+o,this.applicationID+"-2.algolia."+o,this.applicationID+"-3.algolia."+o]),this.host_protocol="http://",this._isUndefined(r)||null===r?this.host_protocol=("https:"==document.location.protocol?"https":"http")+"://":("https"===r||"HTTPS"===r)&&(this.host_protocol="https://");for(var h=0;h<s.length;++h)Math.random()>.5&&this.hosts.reverse(),this.hosts.push(this.host_protocol+s[h]);Math.random()>.5&&this.hosts.reverse(),(this.dsn||null!=this.dsnHost)&&this.hosts.unshift(this.dsnHost?this.host_protocol+this.dsnHost:this.host_protocol+this.applicationID+"-dsn.algolia."+o),this.options.angular&&this.options.angular.$injector.invoke(["$http","$q",function(t,e){a.options.angular.$q=e,a.options.angular.$http=t}])};AlgoliaSearch.JSONPCounter=0,AlgoliaSearch.prototype={deleteIndex:function(t,e){return this._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(t),callback:e})},moveIndex:function(t,e,i){var n={operation:"move",destination:e};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(t)+"/operation",body:n,callback:i})},copyIndex:function(t,e,i){var n={operation:"copy",destination:e};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(t)+"/operation",body:n,callback:i})},getLogs:function(t,e,i){return this._isUndefined(e)&&(e=0),this._isUndefined(i)&&(i=10),this._jsonRequest({method:"GET",url:"/1/logs?offset="+e+"&length="+i,callback:t})},listIndexes:function(t,e){var i="undefined"!=typeof e?"?page="+e:"";return this._jsonRequest({method:"GET",url:"/1/indexes"+i,callback:t})},initIndex:function(t){return new this.Index(this,t)},listUserKeys:function(t){return this._jsonRequest({method:"GET",url:"/1/keys",callback:t})},getUserKeyACL:function(t,e){return this._jsonRequest({method:"GET",url:"/1/keys/"+t,callback:e})},deleteUserKey:function(t,e){return this._jsonRequest({method:"DELETE",url:"/1/keys/"+t,callback:e})},addUserKey:function(t,e){return this.addUserKeyWithValidity(t,0,0,0,e)},addUserKeyWithValidity:function(t,e,i,n,s){var a={};return a.acl=t,a.validity=e,a.maxQueriesPerIPPerHour=i,a.maxHitsPerQuery=n,this._jsonRequest({method:"POST",url:"/1/keys",body:a,callback:s})},setSecurityTags:function(t){if("[object Array]"===Object.prototype.toString.call(t)){for(var e=[],i=0;i<t.length;++i)if("[object Array]"===Object.prototype.toString.call(t[i])){for(var n=[],s=0;s<t[i].length;++s)n.push(t[i][s]);e.push("("+n.join(",")+")")}else e.push(t[i]);t=e.join(",")}this.tagFilters=t},setUserToken:function(t){this.userToken=t},startQueriesBatch:function(){this.batch=[]},addQueryInBatch:function(t,e,i){var n="query="+encodeURIComponent(e);this._isUndefined(i)||null===i||(n=this._getSearchParams(i,n)),this.batch.push({indexName:t,params:n})},clearCache:function(){this.cache={}},sendQueriesBatch:function(t,e){for(var i=this,n={requests:[]},s=0;s<i.batch.length;++s)n.requests.push(i.batch[s]);if(window.clearTimeout(i.onDelayTrigger),this._isUndefined(e)||null===e||!(e>0))return this._sendQueriesBatch(n,t);var a=window.setTimeout(function(){i._sendQueriesBatch(n,t)},e);i.onDelayTrigger=a},setRequestTimeout:function(t){t&&(this.requestTimeoutInMs=parseInt(t,10))},Index:function(t,e){this.indexName=e,this.as=t,this.typeAheadArgs=null,this.typeAheadValueOption=null,this.cache={}},setExtraHeader:function(t,e){this.extraHeaders.push({key:t,value:e})},_sendQueriesBatch:function(t,e){if(null===this.jsonp){var i=this;return this._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/*/queries",body:t,callback:function(n,s){n?(i.jsonp=!1,e&&e(n,s)):(i.jsonp=!0,i._sendQueriesBatch(t,e))}})}if(this.jsonp){for(var n="",s=0;s<t.requests.length;++s){var a="/1/indexes/"+encodeURIComponent(t.requests[s].indexName)+"?"+t.requests[s].params;n+=s+"="+encodeURIComponent(a)+"&"}var r={params:n};return this._jsonRequest({cache:this.cache,method:"GET",url:"/1/indexes/*",body:r,callback:e})}return this._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/*/queries",body:t,callback:e})},_jsonRequest:function(t){var e=this,i=t.callback,n=null,s=t.url,a=null;if(this.options.jQuery?(a=this.options.jQuery.$.Deferred(),a.promise=a.promise()):this.options.angular&&(a=this.options.angular.$q.defer()),this._isUndefined(t.body)||(s=t.url+"_body_"+JSON.stringify(t.body)),!this._isUndefined(t.cache)&&(n=t.cache,!this._isUndefined(n[s])))return!this._isUndefined(i)&&i&&setTimeout(function(){i(!0,n[s])},1),a&&a.resolve(n[s]),a&&a.promise;t.successiveRetryCount=0;var r=function(){if(t.successiveRetryCount>=e.hosts.length){var o={message:"Cannot connect the Algolia's Search API. Please send an email to support@algolia.com to report the issue."};return!e._isUndefined(i)&&i&&(t.successiveRetryCount=0,i(!1,o)),void(a&&a.reject(o))}t.callback=function(o,u,h){u&&!e._isUndefined(t.cache)&&(n[s]=h),!u&&o?(e.currentHostIndex=++e.currentHostIndex%e.hosts.length,t.successiveRetryCount+=1,r()):(t.successiveRetryCount=0,a&&(u?a.resolve(h):a.reject(h)),!e._isUndefined(i)&&i&&i(u,h))},t.hostname=e.hosts[e.currentHostIndex],e._jsonRequestByHost(t)};return r(),a&&a.promise},_jsonRequestByHost:function(t){var e=t.hostname+t.url;this.jsonp?this._makeJsonpRequestByHost(e,t):this.options.jQuery?this._makejQueryRequestByHost(e,t):this.options.angular?this._makeAngularRequestByHost(e,t):this._makeXmlHttpRequestByHost(e,t)},_makeAngularRequestByHost:function(t,e){var i=null;this._isUndefined(e.body)||(i=JSON.stringify(e.body)),t+=(-1===t.indexOf("?")?"?":"&")+"X-Algolia-API-Key="+this.apiKey,t+="&X-Algolia-Application-Id="+this.applicationID,this.userToken&&(t+="&X-Algolia-UserToken="+encodeURIComponent(this.userToken)),this.tagFilters&&(t+="&X-Algolia-TagFilters="+encodeURIComponent(this.tagFilters));for(var n=0;n<this.extraHeaders.length;++n)t+="&"+this.extraHeaders[n].key+"="+this.extraHeaders[n].value;this.options.angular.$http({url:t,method:e.method,data:i,cache:!1,timeout:this.requestTimeoutInMs*(e.successiveRetryCount+1)}).then(function(t){e.callback(!1,!0,t.data)},function(t){0===t.status?e.callback(!0,!1,t.data):400==t.status||403===t.status||404===t.status?e.callback(!1,!1,t.data):e.callback(!0,!1,t.data)})},_makejQueryRequestByHost:function(t,e){var i=null;this._isUndefined(e.body)||(i=JSON.stringify(e.body)),t+=(-1===t.indexOf("?")?"?":"&")+"X-Algolia-API-Key="+this.apiKey,t+="&X-Algolia-Application-Id="+this.applicationID,this.userToken&&(t+="&X-Algolia-UserToken="+encodeURIComponent(this.userToken)),this.tagFilters&&(t+="&X-Algolia-TagFilters="+encodeURIComponent(this.tagFilters));for(var n=0;n<this.extraHeaders.length;++n)t+="&"+this.extraHeaders[n].key+"="+this.extraHeaders[n].value;this.options.jQuery.$.ajax(t,{type:e.method,timeout:this.requestTimeoutInMs*(e.successiveRetryCount+1),dataType:"json",data:i,error:function(i,n,s){"timeout"===n?e.callback(!0,!1,{message:"Timeout - Could not connect to endpoint "+t}):400===i.status||403===i.status||404===i.status?e.callback(!1,!1,i.responseJSON):e.callback(!0,!1,{message:s})},success:function(t){e.callback(!1,!0,t)}})},_makeJsonpRequestByHost:function(t,e){if("GET"!==e.method)return void e.callback(!0,!1,{message:"Method "+e.method+" "+t+" is not supported by JSONP."});var i=!1,n=!1;AlgoliaSearch.JSONPCounter+=1;var s,a,r,o=document.getElementsByTagName("head")[0],u=document.createElement("script"),h="algoliaJSONP_"+AlgoliaSearch.JSONPCounter,c=!1;window[h]=function(t){try{delete window[h]}catch(s){window[h]=void 0}if(!n){var a=t&&t.message&&t.status||t&&200,r=200===a,o=!r&&400!==a&&403!==a&&404!==a;i=!0,e.callback(o,r,t)}},u.type="text/javascript",t+="?callback="+h+"&X-Algolia-Application-Id="+this.applicationID+"&X-Algolia-API-Key="+this.apiKey,this.tagFilters&&(t+="&X-Algolia-TagFilters="+encodeURIComponent(this.tagFilters)),this.userToken&&(t+="&X-Algolia-UserToken="+encodeURIComponent(this.userToken));for(var l=0;l<this.extraHeaders.length;++l)t+="&"+this.extraHeaders[l].key+"="+this.extraHeaders[l].value;
e.body&&e.body.params&&(t+="&"+e.body.params),s=setTimeout(function(){n=!0,r(),e.callback(!0,!1,{message:"Timeout - Failed to load JSONP script."})},this.requestTimeoutInMs),a=function(){c||n||(c=!0,r(),i||e.callback(!0,!1,{message:"Failed to load JSONP script."}))},r=function(){clearTimeout(s),u.onload=null,u.onreadystatechange=null,u.onerror=null,o.removeChild(u);try{delete window[h],delete window[h+"_loaded"]}catch(t){window[h]=null,window[h+"_loaded"]=null}},u.onreadystatechange=function(){("loaded"===this.readyState||"complete"===this.readyState)&&a()},u.onload=function(){a()},u.onerror=function(){c||n||(r(),e.callback(!0,!1,{message:"Failed to load JSONP script."}))},u.async=!0,u.defer=!0,u.src=t,o.appendChild(u)},_makeXmlHttpRequestByHost:function(t,e){if(!this._support.cors&&!this._support.hasXDomainRequest)return void e.callback(!1,!1,{message:"CORS not supported"});var i,n,s,a=null,r=this._support.cors?new XMLHttpRequest:new XDomainRequest,o=this;this._isUndefined(e.body)||(a=JSON.stringify(e.body)),t+=(-1===t.indexOf("?")?"?":"&")+"X-Algolia-API-Key="+this.apiKey,t+="&X-Algolia-Application-Id="+this.applicationID,this.userToken&&(t+="&X-Algolia-UserToken="+encodeURIComponent(this.userToken)),this.tagFilters&&(t+="&X-Algolia-TagFilters="+encodeURIComponent(this.tagFilters));for(var u=0;u<this.extraHeaders.length;++u)t+="&"+this.extraHeaders[u].key+"="+this.extraHeaders[u].value;s=function(){o._support.timeout||(n=!0,r.abort()),e.callback(!0,!1,{message:"Timeout - Could not connect to endpoint "+t})},r instanceof XMLHttpRequest?r.open(e.method,t,!0):r.open(e.method,t),this._support.cors&&null!==a&&"GET"!==e.method&&r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.onload=function(){if(!n){o._support.timeout||clearTimeout(i);var t=null;try{t=JSON.parse(r.responseText)}catch(s){}var a=r.status||t&&t.message&&t.status||t&&200,u=200===a||201===a,h=!u&&400!==a&&403!==a&&404!==a;e.callback(h,u,t)}},this._support.timeout?(r.timeout=this.requestTimeoutInMs*(e.successiveRetryCount+1),r.ontimeout=s):i=setTimeout(s,this.requestTimeoutInMs*(e.successiveRetryCount+1)),r.onerror=function(t){n||(o._support.timeout||clearTimeout(i),e.callback(!0,!1,{message:"Could not connect to host",error:t}))},r.send(a)},_getSearchParams:function(t,e){if(this._isUndefined(t)||null===t)return e;for(var i in t)null!==i&&t.hasOwnProperty(i)&&(e+=0===e.length?"?":"&",e+=i+"="+encodeURIComponent("[object Array]"===Object.prototype.toString.call(t[i])?JSON.stringify(t[i]):t[i]));return e},_isUndefined:function(t){return void 0===t},_support:{hasXMLHttpRequest:"XMLHttpRequest"in window,hasXDomainRequest:"XDomainRequest"in window,cors:"withCredentials"in new XMLHttpRequest,timeout:"timeout"in new XMLHttpRequest}},AlgoliaSearch.prototype.Index.prototype={clearCache:function(){this.cache={}},addObject:function(t,e,i){var n=this;return this.as._jsonRequest(this.as._isUndefined(i)?{method:"POST",url:"/1/indexes/"+encodeURIComponent(n.indexName),body:t,callback:e}:{method:"PUT",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(i),body:t,callback:e})},addObjects:function(t,e){for(var i=this,n={requests:[]},s=0;s<t.length;++s){var a={action:"addObject",body:t[s]};n.requests.push(a)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/batch",body:n,callback:e})},getObject:function(t,e,i){"[object Array]"!==Object.prototype.toString.call(e)||i||(i=e,e=null);var n=this,s="";if(!this.as._isUndefined(i)){s="?attributes=";for(var a=0;a<i.length;++a)0!==a&&(s+=","),s+=i[a]}return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(t)+s,callback:e})},partialUpdateObject:function(t,e){var i=this;return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/"+encodeURIComponent(t.objectID)+"/partial",body:t,callback:e})},partialUpdateObjects:function(t,e){for(var i=this,n={requests:[]},s=0;s<t.length;++s){var a={action:"partialUpdateObject",objectID:t[s].objectID,body:t[s]};n.requests.push(a)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/batch",body:n,callback:e})},saveObject:function(t,e){var i=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/"+encodeURIComponent(t.objectID),body:t,callback:e})},saveObjects:function(t,e){for(var i=this,n={requests:[]},s=0;s<t.length;++s){var a={action:"updateObject",objectID:t[s].objectID,body:t[s]};n.requests.push(a)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/batch",body:n,callback:e})},deleteObject:function(t,e){if(null===t||0===t.length)return void e(!1,{message:"empty objectID"});var i=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/"+encodeURIComponent(t),callback:e})},search:function(t,e,i,n){(void 0===t||null===t)&&(t=""),"function"==typeof t&&(e=t,t=""),"object"!=typeof e||!this.as._isUndefined(i)&&i||(i=e,e=null);var s=this,a="query="+encodeURIComponent(t);if(this.as._isUndefined(i)||null===i||(a=this.as._getSearchParams(i,a)),window.clearTimeout(s.onDelayTrigger),this.as._isUndefined(n)||null===n||!(n>0))return this._search(a,e);var r=window.setTimeout(function(){s._search(a,e)},n);s.onDelayTrigger=r},browse:function(t,e,i){+e>0&&(this.as._isUndefined(i)||!i)&&(i=e,e=null);var n=this,s="?page="+t;return this.as._isUndefined(i)||(s+="&hitsPerPage="+i),this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/browse"+s,callback:e})},ttAdapter:function(t){var e=this;return function(i,n){e.search(i,function(t,e){n(t?e.hits:e&&e.message)},t)}},waitTask:function(t,e){var i=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/task/"+t,callback:function(n,s){n?"published"===s.status?e(!0,s):setTimeout(function(){i.waitTask(t,e)},100):e(!1,s)}})},clearIndex:function(t){var e=this;return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e.indexName)+"/clear",callback:t})},getSettings:function(t){var e=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(e.indexName)+"/settings",callback:t})},setSettings:function(t,e){var i=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/settings",body:t,callback:e})},listUserKeys:function(t){var e=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(e.indexName)+"/keys",callback:t})},getUserKeyACL:function(t,e){var i=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/keys/"+t,callback:e})},deleteUserKey:function(t,e){var i=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/keys/"+t,callback:e})},addUserKey:function(t,e){var i=this,n={};return n.acl=t,this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/keys",body:n,callback:e})},addUserKeyWithValidity:function(t,e,i,n,s){var a=this,r={};return r.acl=t,r.validity=e,r.maxQueriesPerIPPerHour=i,r.maxHitsPerQuery=n,this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(a.indexName)+"/keys",body:r,callback:s})},_search:function(t,e){var i={params:t};if(null===this.as.jsonp){var n=this;return this.as._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/query",body:i,callback:function(i,s){var a=s&&s.status;i||a&&4===Math.floor(a/100)||1===Math.floor(a/100)?(n.as.jsonp=!1,e&&e(i,s)):(n.as.jsonp=!0,n._search(t,e))}})}return this.as._jsonRequest(this.as.jsonp?{cache:this.cache,method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName),body:i,callback:e}:{cache:this.cache,method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/query",body:i,callback:e})},as:null,indexName:null,typeAheadArgs:null,typeAheadValueOption:null},function(){var t=function(t){t=t||{};for(var e=1;e<arguments.length;e++)if(arguments[e])for(var i in arguments[e])arguments[e].hasOwnProperty(i)&&(t[i]=arguments[e][i]);return t};window.AlgoliaSearchHelper=function(e,i,n){var s={facets:[],disjunctiveFacets:[],hitsPerPage:20,defaultFacetFilters:[]};this.init(e,i,t({},s,n))},AlgoliaSearchHelper.prototype={init:function(t,e,i){this.client=t,this.index=e,this.options=i,this.page=0,this.refinements={},this.excludes={},this.disjunctiveRefinements={},this.extraQueries=[]},search:function(t,e,i){this.q=t,this.searchCallback=e,this.searchParams=i||{},this.page=this.page||0,this.refinements=this.refinements||{},this.disjunctiveRefinements=this.disjunctiveRefinements||{},this._search()},clearRefinements:function(){this.disjunctiveRefinements={},this.refinements={}},addDisjunctiveRefine:function(t,e){this.disjunctiveRefinements=this.disjunctiveRefinements||{},this.disjunctiveRefinements[t]=this.disjunctiveRefinements[t]||{},this.disjunctiveRefinements[t][e]=!0},removeDisjunctiveRefine:function(t,e){this.disjunctiveRefinements=this.disjunctiveRefinements||{},this.disjunctiveRefinements[t]=this.disjunctiveRefinements[t]||{};try{delete this.disjunctiveRefinements[t][e]}catch(i){this.disjunctiveRefinements[t][e]=void 0}},addRefine:function(t,e){var i=t+":"+e;this.refinements=this.refinements||{},this.refinements[i]=!0},removeRefine:function(t,e){var i=t+":"+e;this.refinements=this.refinements||{},this.refinements[i]=!1},addExclude:function(t,e){var i=t+":-"+e;this.excludes=this.excludes||{},this.excludes[i]=!0},removeExclude:function(t,e){var i=t+":-"+e;this.excludes=this.excludes||{},this.excludes[i]=!1},toggleExclude:function(t,e){for(var i=0;i<this.options.facets.length;++i)if(this.options.facets[i]==t){var n=t+":-"+e;return this.excludes[n]=!this.excludes[n],this.page=0,this._search(),!0}return!1},toggleRefine:function(t,e){for(var i=0;i<this.options.facets.length;++i)if(this.options.facets[i]==t){var n=t+":"+e;return this.refinements[n]=!this.refinements[n],this.page=0,this._search(),!0}this.disjunctiveRefinements[t]=this.disjunctiveRefinements[t]||{};for(var s=0;s<this.options.disjunctiveFacets.length;++s)if(this.options.disjunctiveFacets[s]==t)return this.disjunctiveRefinements[t][e]=!this.disjunctiveRefinements[t][e],this.page=0,this._search(),!0;return!1},isRefined:function(t,e){var i=t+":"+e;return this.refinements[i]?!0:this.disjunctiveRefinements[t]&&this.disjunctiveRefinements[t][e]?!0:!1},isExcluded:function(t,e){var i=t+":-"+e;return this.excludes[i]?!0:!1},nextPage:function(){this._gotoPage(this.page+1)},previousPage:function(){this.page>0&&this._gotoPage(this.page-1)},gotoPage:function(t){this._gotoPage(t)},setPage:function(t){this.page=t},setIndex:function(t){this.index=t},getIndex:function(){return this.index},clearExtraQueries:function(){this.extraQueries=[]},addExtraQuery:function(t,e,i){this.extraQueries.push({index:t,query:e,params:i||{}})},_gotoPage:function(t){this.page=t,this._search()},_search:function(){this.client.startQueriesBatch(),this.client.addQueryInBatch(this.index,this.q,this._getHitsSearchParams());var t=[],e={},i=0;for(i=0;i<this.options.disjunctiveFacets.length;++i){var n=this.options.disjunctiveFacets[i];this._hasDisjunctiveRefinements(n)?t.push(n):e[n]=!0}for(i=0;i<t.length;++i)this.client.addQueryInBatch(this.index,this.q,this._getDisjunctiveFacetSearchParams(t[i]));for(i=0;i<this.extraQueries.length;++i)this.client.addQueryInBatch(this.extraQueries[i].index,this.extraQueries[i].query,this.extraQueries[i].params);var s=this;this.client.sendQueriesBatch(function(n,a){if(!n)return void s.searchCallback(!1,a);var r=a.results[0];r.disjunctiveFacets=r.disjunctiveFacets||{},r.facets_stats=r.facets_stats||{};for(var o in e)if(r.facets[o]&&!r.disjunctiveFacets[o]){r.disjunctiveFacets[o]=r.facets[o];try{delete r.facets[o]}catch(u){r.facets[o]=void 0}}for(i=0;i<t.length;++i){for(var h in a.results[i+1].facets)if(r.disjunctiveFacets[h]=a.results[i+1].facets[h],s.disjunctiveRefinements[h])for(var c in s.disjunctiveRefinements[h])!r.disjunctiveFacets[h][c]&&s.disjunctiveRefinements[h][c]&&(r.disjunctiveFacets[h][c]=0);for(var l in a.results[i+1].facets_stats)r.facets_stats[l]=a.results[i+1].facets_stats[l]}r.facetStats=r.facets_stats;for(var d in s.excludes)if(s.excludes[d]){var u=d.indexOf(":-"),o=d.slice(0,u),c=d.slice(u+2);r.facets[o]=r.facets[o]||{},r.facets[o][c]||(r.facets[o][c]=0)}if(0===s.extraQueries.length)s.searchCallback(!0,r);else{var p={results:[r]};for(i=0;i<s.extraQueries.length;++i)p.results.push(a.results[1+t.length+i]);s.searchCallback(!0,p)}})},_getHitsSearchParams:function(){var e=[],i=0;for(i=0;i<this.options.facets.length;++i)e.push(this.options.facets[i]);for(i=0;i<this.options.disjunctiveFacets.length;++i){var n=this.options.disjunctiveFacets[i];this._hasDisjunctiveRefinements(n)||e.push(n)}return t({},{hitsPerPage:this.options.hitsPerPage,page:this.page,facets:e,facetFilters:this._getFacetFilters()},this.searchParams)},_getDisjunctiveFacetSearchParams:function(e){return t({},this.searchParams,{hitsPerPage:1,page:0,attributesToRetrieve:[],attributesToHighlight:[],attributesToSnippet:[],facets:e,facetFilters:this._getFacetFilters(e),analytics:!1})},_hasDisjunctiveRefinements:function(t){for(var e in this.disjunctiveRefinements[t])if(this.disjunctiveRefinements[t][e])return!0;return!1},_getFacetFilters:function(t){var e=[];if(this.options.defaultFacetFilters)for(var i=0;i<this.options.defaultFacetFilters.length;++i)e.push(this.options.defaultFacetFilters[i]);for(var n in this.refinements)this.refinements[n]&&e.push(n);for(var n in this.excludes)this.excludes[n]&&e.push(n);for(var s in this.disjunctiveRefinements)if(s!=t){var a=[];for(var r in this.disjunctiveRefinements[s])this.disjunctiveRefinements[s][r]&&a.push(s+":"+r);a.length>0&&e.push(a)}return e}}}(),function(){window.AlgoliaPlaces=function(t,e){this.init(t,e)},AlgoliaPlaces.prototype={init:function(t,e){this.client=new AlgoliaSearch(t,e,"http",!0,["places-1.algolia.io","places-2.algolia.io","places-3.algolia.io"]),this.cache={}},search:function(t,e,i){var n="query="+encodeURIComponent(t);this.client._isUndefined(i)||null==i||(n=this.client._getSearchParams(i,n));var s={params:n,apiKey:this.client.apiKey,appID:this.client.applicationID};this.client._jsonRequest({cache:this.cache,method:"POST",url:"/1/places/query",body:s,callback:e,removeCustomHTTPHeaders:!0})}}}(),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var i,n,s,a,r,o=gap,u=e[t];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(t)),"function"==typeof rep&&(u=rep.call(e,t,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,r=[],"[object Array]"===Object.prototype.toString.apply(u)){for(a=u.length,i=0;a>i;i+=1)r[i]=str(i,u)||"null";return s=0===r.length?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+o+"]":"["+r.join(",")+"]",gap=o,s}if(rep&&"object"==typeof rep)for(a=rep.length,i=0;a>i;i+=1)"string"==typeof rep[i]&&(n=rep[i],s=str(n,u),s&&r.push(quote(n)+(gap?": ":":")+s));else for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(s=str(n,u),s&&r.push(quote(n)+(gap?": ":":")+s));return s=0===r.length?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+o+"}":"{"+r.join(",")+"}",gap=o,s}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx,escapable,gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;i>n;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(t,e){var i,n,s=t[e];if(s&&"object"==typeof s)for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n=walk(s,i),void 0!==n?s[i]=n:delete s[i]);return reviver.call(t,e,s)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),/*!
 * typeahead.js 0.10.4
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT
 */
function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,i){function n(t,e){return i(e,t)}t.each(e,n)},map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,function(t,s){return(n=i.call(null,s,t,e))?void 0:!1}),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,function(t,s){return(n=i.call(null,s,t,e))?!1:void 0}),!!n):n},mixin:t.extend,getUniqueId:function(){var t=0;return function(){return t++}}(),templatify:function(e){function i(){return String(e)}return t.isFunction(e)?e:i},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,s;return function(){var a,r,o=this,u=arguments;return a=function(){n=null,i||(s=t.apply(o,u))},r=i&&!n,clearTimeout(n),n=setTimeout(a,e),r&&(s=t.apply(o,u)),s}},throttle:function(t,e){var i,n,s,a,r,o;return r=0,o=function(){r=new Date,s=null,a=t.apply(i,n)},function(){var u=new Date,h=e-(u-r);return i=this,n=arguments,0>=h?(clearTimeout(s),s=null,r=u,a=t.apply(i,n)):s||(s=setTimeout(o,h)),a}},noop:function(){}}}(),i=function(){return{wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'}}(),n=function(){"use strict";var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e.isMsie()&&e.isMsie()<=7&&e.mixin(t.input,{marginTop:"-1px"}),t}(),s=function(){"use strict";function i(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var n="typeahead:";return e.mixin(i.prototype,{trigger:function(t){var e=[].slice.call(arguments,1);this.$el.trigger(n+t,e)}}),i}(),a=function(){"use strict";function t(t,e,i,n){var s;if(!i)return this;for(e=e.split(u),i=n?o(i,n):i,this._callbacks=this._callbacks||{};s=e.shift();)this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][t].push(i);return this}function e(e,i,n){return t.call(this,"async",e,i,n)}function i(e,i,n){return t.call(this,"sync",e,i,n)}function n(t){var e;if(!this._callbacks)return this;for(t=t.split(u);e=t.shift();)delete this._callbacks[e];return this}function s(t){var e,i,n,s,r;if(!this._callbacks)return this;for(t=t.split(u),n=[].slice.call(arguments,1);(e=t.shift())&&(i=this._callbacks[e]);)s=a(i.sync,this,[e].concat(n)),r=a(i.async,this,[e].concat(n)),s()&&h(r);return this}function a(t,e,i){function n(){for(var n,s=0,a=t.length;!n&&a>s;s+=1)n=t[s].apply(e,i)===!1;return!n}return n}function r(){var t;return t=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)}}function o(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var u=/\s+/,h=r();return{onSync:i,onAsync:e,off:n,trigger:s}}(),r=function(t){"use strict";function i(t,i,n){for(var s,a=[],r=0,o=t.length;o>r;r++)a.push(e.escapeRegExChars(t[r]));return s=n?"\\b("+a.join("|")+")\\b":"("+a.join("|")+")",i?new RegExp(s):new RegExp(s,"i")}var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(s){function a(e){var i,n,a;return(i=o.exec(e.data))&&(a=t.createElement(s.tagName),s.className&&(a.className=s.className),n=e.splitText(i.index),n.splitText(i[0].length),a.appendChild(n.cloneNode(!0)),e.parentNode.replaceChild(a,n)),!!i}function r(t,e){for(var i,n=3,s=0;s<t.childNodes.length;s++)i=t.childNodes[s],i.nodeType===n?s+=e(i)?1:0:r(i,e)}var o;s=e.mixin({},n,s),s.node&&s.pattern&&(s.pattern=e.isArray(s.pattern)?s.pattern:[s.pattern],o=i(s.pattern,s.caseSensitive,s.wordsOnly),r(s.node,a))}}(window.document),o=function(){"use strict";function i(i){var s,a,r,u,h=this;i=i||{},i.input||t.error("input is missing"),s=e.bind(this._onBlur,this),a=e.bind(this._onFocus,this),r=e.bind(this._onKeydown,this),u=e.bind(this._onInput,this),this.$hint=t(i.hint),this.$input=t(i.input).on("blur.tt",s).on("focus.tt",a).on("keydown.tt",r),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop),e.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){o[t.which||t.keyCode]||e.defer(e.bind(h._onInput,h,t))}):this.$input.on("input.tt",u),this.query=this.$input.val(),this.$overflowHelper=n(this.$input)}function n(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function s(t,e){return i.normalizeQuery(t)===i.normalizeQuery(e)}function r(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var o;return o={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(t){return(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(i.prototype,a,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(t){var e=o[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(t,e){var i,n,s;switch(t){case"tab":n=this.getHint(),s=this.getInputValue(),i=n&&n!==s&&!r(e);break;case"up":case"down":i=!r(e);break;default:i=!1}i&&e.preventDefault()},_shouldTrigger:function(t,e){var i;switch(t){case"tab":i=!r(e);break;default:i=!0}return i},_checkInputValue:function(){var t,e,i;t=this.getInputValue(),e=s(t,this.query),i=e?this.query.length!==t.length:!1,this.query=t,e?i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(t){this.query=t},getInputValue:function(){return this.$input.val()},setInputValue:function(t,e){this.$input.val(t),e?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,i,n;t=this.getInputValue(),e=this.getHint(),i=t!==e&&0===e.indexOf(t),n=""!==t&&i&&!this.hasOverflow(),!n&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,i,n;return t=this.$input.val().length,i=this.$input[0].selectionStart,e.isNumber(i)?i===t:document.selection?(n=document.selection.createRange(),n.moveStart("character",-t),t===n.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),i}(),u=function(){"use strict";function s(n){n=n||{},n.templates=n.templates||{},n.source||t.error("missing source"),n.name&&!h(n.name)&&t.error("invalid dataset name: "+n.name),this.query=null,this.highlight=!!n.highlight,this.name=n.name||e.getUniqueId(),this.source=n.source,this.displayFn=o(n.display||n.displayKey),this.templates=u(n.templates,this.displayFn),this.$el=t(i.dataset.replace("%CLASS%",this.name))}function o(t){function i(e){return e[t]}return t=t||"value",e.isFunction(t)?t:i}function u(t,i){function n(t){return"<p>"+i(t)+"</p>"}return{empty:t.empty&&e.templatify(t.empty),header:t.header&&e.templatify(t.header),footer:t.footer&&e.templatify(t.footer),suggestion:t.suggestion||n}}function h(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var c="ttDataset",l="ttValue",d="ttDatum";return s.extractDatasetName=function(e){return t(e).data(c)},s.extractValue=function(e){return t(e).data(l)},s.extractDatum=function(e){return t(e).data(d)},e.mixin(s.prototype,a,{_render:function(s,a){function o(){return g.templates.empty({query:s,isEmpty:!0})}function u(){function o(e){var s;return s=t(i.suggestion).append(g.templates.suggestion(e)).data(c,g.name).data(l,g.displayFn(e)).data(d,e),s.children().each(function(){t(this).css(n.suggestionChild)}),s}var u,h;return u=t(i.suggestions).css(n.suggestions),h=e.map(a,o),u.append.apply(u,h),g.highlight&&r({className:"tt-highlight",node:u[0],pattern:s}),u}function h(){return g.templates.header({query:s,isEmpty:!f})}function p(){return g.templates.footer({query:s,isEmpty:!f})}if(this.$el){var f,g=this;this.$el.empty(),f=a&&a.length,!f&&this.templates.empty?this.$el.html(o()).prepend(g.templates.header?h():null).append(g.templates.footer?p():null):f&&this.$el.html(u()).prepend(g.templates.header?h():null).append(g.templates.footer?p():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(t){function e(e){i.canceled||t!==i.query||i._render(t,e)}var i=this;this.query=t,this.canceled=!1,this.source(t,e)},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),s}(),h=function(){"use strict";function i(i){var n,a,r,o=this;i=i||{},i.menu||t.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=e.map(i.datasets,s),n=e.bind(this._onSuggestionClick,this),a=e.bind(this._onSuggestionMouseEnter,this),r=e.bind(this._onSuggestionMouseLeave,this),this.$menu=t(i.menu).on("click.tt",".tt-suggestion",n).on("mouseenter.tt",".tt-suggestion",a).on("mouseleave.tt",".tt-suggestion",r),e.each(this.datasets,function(t){o.$menu.append(t.getRoot()),t.onSync("rendered",o._onRendered,o)})}function s(t){return new u(t)}return e.mixin(i.prototype,a,{_onSuggestionClick:function(e){this.trigger("suggestionClicked",t(e.currentTarget))},_onSuggestionMouseEnter:function(e){this._removeCursor(),this._setCursor(t(e.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function t(t){return t.isEmpty()}this.isEmpty=e.every(this.datasets,t),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(t,e){t.first().addClass("tt-cursor"),!e&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(t){var e,i,n,s;if(this.isOpen){if(i=this._getCursor(),e=this._getSuggestions(),this._removeCursor(),n=e.index(i)+t,n=(n+1)%(e.length+1)-1,-1===n)return void this.trigger("cursorRemoved");-1>n&&(n=e.length-1),this._setCursor(s=e.eq(n)),this._ensureVisible(s)}},_ensureVisible:function(t){var e,i,n,s;e=t.position().top,i=e+t.outerHeight(!0),n=this.$menu.scrollTop(),s=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>e?this.$menu.scrollTop(n+e):i>s&&this.$menu.scrollTop(n+(i-s))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(t){this.$menu.css("ltr"===t?n.ltr:n.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(t){var e=null;return t.length&&(e={raw:u.extractDatum(t),value:u.extractValue(t),datasetName:u.extractDatasetName(t)}),e},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(t){function i(e){e.update(t)}e.each(this.datasets,i)},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function t(t){t.destroy()}this.$menu.off(".tt"),this.$menu=null,e.each(this.datasets,t)}}),i}(),c=function(){"use strict";function a(i){var n,a,u;i=i||{},i.input||t.error("missing input"),this.isActivated=!1,this.autoselect=!!i.autoselect,this.minLength=e.isNumber(i.minLength)?i.minLength:1,this.$node=r(i.input,i.withHint),n=this.$node.find(".tt-dropdown-menu"),a=this.$node.find(".tt-input"),u=this.$node.find(".tt-hint"),a.on("blur.tt",function(t){var i,s,r;i=document.activeElement,s=n.is(i),r=n.has(i).length>0,e.isMsie()&&(s||r)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){a.focus()}))}),n.on("mousedown.tt",function(t){t.preventDefault()}),this.eventBus=i.eventBus||new s({el:a}),this.dropdown=new h({menu:n,datasets:i.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new o({input:a,hint:u}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function r(e,s){var a,r,o,h;a=t(e),r=t(i.wrapper).css(n.wrapper),o=t(i.dropdown).css(n.dropdown),h=a.clone().css(n.hint).css(u(a)),h.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly",!0).attr({autocomplete:"off",spellcheck:"false",tabindex:-1}),a.data(l,{dir:a.attr("dir"),autocomplete:a.attr("autocomplete"),spellcheck:a.attr("spellcheck"),style:a.attr("style")}),a.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(s?n.input:n.inputWithNoHint);try{!a.attr("dir")&&a.attr("dir","auto")}catch(c){}return a.wrap(r).parent().prepend(s?h:null).append(o)}function u(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function c(t){var i=t.find(".tt-input");e.each(i.data(l),function(t,n){e.isUndefined(t)?i.removeAttr(n):i.attr(n,t)}),i.detach().removeData(l).removeClass("tt-input").insertAfter(t),t.remove()}var l="ttAttrs";return e.mixin(a.prototype,{_onSuggestionClicked:function(t,e){var i;(i=this.dropdown.getDatumForSuggestion(e))&&this._select(i)},_onCursorMoved:function(){var t=this.dropdown.getDatumForCursor();this.input.setInputValue(t.value,!0),this.eventBus.trigger("cursorchanged",t.raw,t.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function(t,e){var i,n;i=this.dropdown.getDatumForCursor(),n=this.dropdown.getDatumForTopSuggestion(),i?(this._select(i),e.preventDefault()):this.autoselect&&n&&(this._select(n),e.preventDefault())},_onTabKeyed:function(t,e){var i;(i=this.dropdown.getDatumForCursor())?(this._select(i),e.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(t,e){this.input.clearHintIfInvalid(),e.length>=this.minLength?this.dropdown.update(e):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var t;this.dir!==(t=this.input.getLanguageDirection())&&(this.dir=t,this.$node.css("direction",t),this.dropdown.setLanguageDirection(t))},_updateHint:function(){var t,i,n,s,a,r;t=this.dropdown.getDatumForTopSuggestion(),t&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(i=this.input.getInputValue(),n=o.normalizeQuery(i),s=e.escapeRegExChars(n),a=new RegExp("^(?:"+s+")(.+$)","i"),r=a.exec(t.value),r?this.input.setHint(i+r[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(t){var e,i,n,s;e=this.input.getHint(),i=this.input.getQuery(),n=t||this.input.isCursorAtEnd(),e&&i!==e&&n&&(s=this.dropdown.getDatumForTopSuggestion(),s&&this.input.setInputValue(s.value),this.eventBus.trigger("autocompleted",s.raw,s.datasetName))},_select:function(t){this.input.setQuery(t.value),this.input.setInputValue(t.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",t.raw,t.datasetName),this.dropdown.close(),e.defer(e.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(t){t=e.toStr(t),this.isActivated?this.input.setInputValue(t):(this.input.setQuery(t),this.input.setInputValue(t,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),c(this.$node),this.$node=null}}),a}();!function(){"use strict";var i,n,a;i=t.fn.typeahead,n="ttTypeahead",a={initialize:function(i,a){function r(){var r,o,u=t(this);e.each(a,function(t){t.highlight=!!i.highlight}),o=new c({input:u,eventBus:r=new s({el:u}),withHint:e.isUndefined(i.hint)?!0:!!i.hint,minLength:i.minLength,autoselect:i.autoselect,datasets:a}),u.data(n,o)}return a=e.isArray(a)?a:[].slice.call(arguments,1),i=i||{},this.each(r)},open:function(){function e(){var e,i=t(this);(e=i.data(n))&&e.open()}return this.each(e)},close:function(){function e(){var e,i=t(this);(e=i.data(n))&&e.close()}return this.each(e)},val:function(e){function i(){var i,s=t(this);(i=s.data(n))&&i.setVal(e)}function s(t){var e,i;return(e=t.data(n))&&(i=e.getVal()),i}return arguments.length?this.each(i):s(this.first())},destroy:function(){function e(){var e,i=t(this);(e=i.data(n))&&(e.destroy(),i.removeData(n))}return this.each(e)}},t.fn.typeahead=function(e){var i;return a[e]&&"initialize"!==e?(i=this.filter(function(){return!!t(this).data(n)}),a[e].apply(i,[].slice.call(arguments,1))):a.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=i,this}}()}(window.jQuery);/*!
 *  Copyright 2011 Twitter, Inc.
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */
var Hogan={};!function(t,e){function i(t,e,i){var n;return e&&"object"==typeof e&&(null!=e[t]?n=e[t]:i&&e.get&&"function"==typeof e.get&&(n=e.get(t))),n}function n(t,e,i,n){function s(){}function a(){}s.prototype=t,a.prototype=t.subs;var r,o=new s;o.subs=new a,o.subsText={},o.ib();for(r in e)o.subs[r]=e[r],o.subsText[r]=n;for(r in i)o.partials[r]=i[r];return o}function s(t){return String(null===t||void 0===t?"":t)}function a(t){return t=s(t),l.test(t)?t.replace(r,"&amp;").replace(o,"&lt;").replace(u,"&gt;").replace(h,"&#39;").replace(c,"&quot;"):t}t.Template=function(t,e,i,n){t=t||{},this.r=t.code||this.r,this.c=i,this.options=n||{},this.text=e||"",this.partials=t.partials||{},this.subs=t.subs||{},this.ib()},t.Template.prototype={r:function(t,e,i){return""},v:a,t:s,render:function(t,e,i){return this.ri([t],e||{},i)},ri:function(t,e,i){return this.r(t,e,i)},ep:function(t,e){var i=this.partials[t],s=e[i.name];if(i.instance&&i.base==s)return i.instance;if("string"==typeof s){if(!this.c)throw new Error("No compiler available.");s=this.c.compile(s,this.options)}return s?(this.partials[t].base=s,i.subs&&(void 0===this.activeSub&&(e.stackText=this.text),s=n(s,i.subs,i.partials,e.stackText||this.text)),this.partials[t].instance=s,s):null},rp:function(t,e,i,n){var s=this.ep(t,i);return s?s.ri(e,i,n):""},rs:function(t,e,i){var n=t[t.length-1];if(!d(n))return void i(t,e,this);for(var s=0;s<n.length;s++)t.push(n[s]),i(t,e,this),t.pop()},s:function(t,e,i,n,s,a,r){var o;return d(t)&&0===t.length?!1:("function"==typeof t&&(t=this.ms(t,e,i,n,s,a,r)),o=!!t,!n&&o&&e&&e.push("object"==typeof t?t:e[e.length-1]),o)},d:function(t,e,n,s){var a,r=t.split("."),o=this.f(r[0],e,n,s),u=this.options.modelGet,h=null;if("."===t&&d(e[e.length-2]))o=e[e.length-1];else for(var c=1;c<r.length;c++)a=i(r[c],o,u),null!=a?(h=o,o=a):o="";return s&&!o?!1:(s||"function"!=typeof o||(e.push(h),o=this.mv(o,e,n),e.pop()),o)},f:function(t,e,n,s){for(var a=!1,r=null,o=!1,u=this.options.modelGet,h=e.length-1;h>=0;h--)if(r=e[h],a=i(t,r,u),null!=a){o=!0;break}return o?(s||"function"!=typeof a||(a=this.mv(a,e,n)),a):s?!1:""},ls:function(t,e,i,n,a){var r=this.options.delimiters;return this.options.delimiters=a,this.b(this.ct(s(t.call(e,n)),e,i)),this.options.delimiters=r,!1},ct:function(t,e,i){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(t,this.options).render(e,i)},b:e?function(t){this.buf.push(t)}:function(t){this.buf+=t},fl:e?function(){var t=this.buf.join("");return this.buf=[],t}:function(){var t=this.buf;return this.buf="",t},ib:function(){this.buf=e?[]:""},ms:function(t,e,i,n,s,a,r){var o,u=e[e.length-1],h=t.call(u);return"function"==typeof h?n?!0:(o=this.activeSub&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(h,u,i,o.substring(s,a),r)):h},mv:function(t,e,i){var n=e[e.length-1],a=t.call(n);return"function"==typeof a?this.ct(s(a.call(n)),n,i):a},sub:function(t,e,i,n){var s=this.subs[t];s&&(this.activeSub=t,s(e,i,this,n),this.activeSub=!1)}};var r=/&/g,o=/</g,u=/>/g,h=/\'/g,c=/\"/g,l=/[&<>\"\']/,d=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}("undefined"!=typeof exports?exports:Hogan),function(t){function e(t){"}"===t.n.substr(t.n.length-1)&&(t.n=t.n.substring(0,t.n.length-1))}function i(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}function n(t,e,i){if(e.charAt(i)!=t.charAt(0))return!1;for(var n=1,s=t.length;s>n;n++)if(e.charAt(i+n)!=t.charAt(n))return!1;return!0}function s(e,i,n,o){var u=[],h=null,c=null,l=null;for(c=n[n.length-1];e.length>0;){if(l=e.shift(),c&&"<"==c.tag&&!(l.tag in b))throw new Error("Illegal content in < super tag.");if(t.tags[l.tag]<=t.tags.$||a(l,o))n.push(l),l.nodes=s(e,l.tag,n,o);else{if("/"==l.tag){if(0===n.length)throw new Error("Closing tag without opener: /"+l.n);if(h=n.pop(),l.n!=h.n&&!r(l.n,h.n,o))throw new Error("Nesting error: "+h.n+" vs. "+l.n);return h.end=l.i,u}"\n"==l.tag&&(l.last=0==e.length||"\n"==e[0].tag)}u.push(l)}if(n.length>0)throw new Error("missing closing tag: "+n.pop().n);return u}function a(t,e){for(var i=0,n=e.length;n>i;i++)if(e[i].o==t.n)return t.tag="#",!0}function r(t,e,i){for(var n=0,s=i.length;s>n;n++)if(i[n].c==t&&i[n].o==e)return!0}function o(t){var e=[];for(var i in t)e.push('"'+h(i)+'": function(c,p,t,i) {'+t[i]+"}");return"{ "+e.join(",")+" }"}function u(t){var e=[];for(var i in t.partials)e.push('"'+h(i)+'":{name:"'+h(t.partials[i].name)+'", '+u(t.partials[i])+"}");return"partials: {"+e.join(",")+"}, subs: "+o(t.subs)}function h(t){return t.replace(y,"\\\\").replace(g,'\\"').replace(m,"\\n").replace(v,"\\r")}function c(t){return~t.indexOf(".")?"d":"f"}function l(t,e){var i="<"+(e.prefix||""),n=i+t.n+w++;return e.partials[n]={name:t.n,partials:{}},e.code+='t.b(t.rp("'+h(n)+'",c,p,"'+(t.indent||"")+'"));',n}function d(t,e){e.code+="t.b(t.t(t."+c(t.n)+'("'+h(t.n)+'",c,p,0)));'}function p(t){return"t.b("+t+");"}var f=/\S/,g=/\"/g,m=/\n/g,v=/\r/g,y=/\\/g;t.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},t.scan=function(s,a){function r(){y.length>0&&(b.push({tag:"_t",text:new String(y)}),y="")}function o(){for(var e=!0,i=_;i<b.length;i++)if(e=t.tags[b[i].tag]<t.tags._v||"_t"==b[i].tag&&null===b[i].text.match(f),!e)return!1;return e}function u(t,e){if(r(),t&&o())for(var i,n=_;n<b.length;n++)b[n].text&&((i=b[n+1])&&">"==i.tag&&(i.indent=b[n].text.toString()),b.splice(n,1));else e||b.push({tag:"\n"});w=!1,_=b.length}function h(t,e){var n="="+x,s=t.indexOf(n,e),a=i(t.substring(t.indexOf("=",e)+1,s)).split(" ");return D=a[0],x=a[a.length-1],s+n.length-1}var c=s.length,l=0,d=1,p=2,g=l,m=null,v=null,y="",b=[],w=!1,k=0,_=0,D="{{",x="}}";for(a&&(a=a.split(" "),D=a[0],x=a[1]),k=0;c>k;k++)g==l?n(D,s,k)?(--k,r(),g=d):"\n"==s.charAt(k)?u(w):y+=s.charAt(k):g==d?(k+=D.length-1,v=t.tags[s.charAt(k+1)],m=v?s.charAt(k+1):"_v","="==m?(k=h(s,k),g=l):(v&&k++,g=p),w=k):n(x,s,k)?(b.push({tag:m,n:i(y),otag:D,ctag:x,i:"/"==m?w-D.length:k+x.length}),y="",k+=x.length-1,g=l,"{"==m&&("}}"==x?k++:e(b[b.length-1]))):y+=s.charAt(k);return u(w,!0),b};var b={_t:!0,"\n":!0,$:!0,"/":!0};t.stringify=function(e,i,n){return"{code: function (c,p,i) { "+t.wrapMain(e.code)+" },"+u(e)+"}"};var w=0;t.generate=function(e,i,n){w=0;var s={code:"",subs:{},partials:{}};return t.walk(e,s),n.asString?this.stringify(s,i,n):this.makeTemplate(s,i,n)},t.wrapMain=function(t){return'var t=this;t.b(i=i||"");'+t+"return t.fl();"},t.template=t.Template,t.makeTemplate=function(t,e,i){var n=this.makePartials(t);return n.code=new Function("c","p","i",this.wrapMain(t.code)),new this.template(n,e,this,i)},t.makePartials=function(t){var e,i={subs:{},partials:t.partials,name:t.name};for(e in i.partials)i.partials[e]=this.makePartials(i.partials[e]);for(e in t.subs)i.subs[e]=new Function("c","p","t","i",t.subs[e]);return i},t.codegen={"#":function(e,i){i.code+="if(t.s(t."+c(e.n)+'("'+h(e.n)+'",c,p,1),c,p,0,'+e.i+","+e.end+',"'+e.otag+" "+e.ctag+'")){t.rs(c,p,function(c,p,t){',t.walk(e.nodes,i),i.code+="});c.pop();}"},"^":function(e,i){i.code+="if(!t.s(t."+c(e.n)+'("'+h(e.n)+'",c,p,1),c,p,1,0,0,"")){',t.walk(e.nodes,i),i.code+="};"},">":l,"<":function(e,i){var n={partials:{},code:"",subs:{},inPartial:!0};t.walk(e.nodes,n);var s=i.partials[l(e,i)];s.subs=n.subs,s.partials=n.partials},$:function(e,i){var n={subs:{},code:"",partials:i.partials,prefix:e.n};t.walk(e.nodes,n),i.subs[e.n]=n.code,i.inPartial||(i.code+='t.sub("'+h(e.n)+'",c,p,i);')},"\n":function(t,e){e.code+=p('"\\n"'+(t.last?"":" + i"))},_v:function(t,e){e.code+="t.b(t.v(t."+c(t.n)+'("'+h(t.n)+'",c,p,0)));'},_t:function(t,e){e.code+=p('"'+h(t.text)+'"')},"{":d,"&":d},t.walk=function(e,i){for(var n,s=0,a=e.length;a>s;s++)n=t.codegen[e[s].tag],n&&n(e[s],i);return i},t.parse=function(t,e,i){return i=i||{},s(t,"",[],i.sectionTags||[])},t.cache={},t.cacheKey=function(t,e){return[t,!!e.asString,!!e.disableLambda,e.delimiters,!!e.modelGet].join("||")},t.compile=function(e,i){i=i||{};var n=t.cacheKey(e,i),s=this.cache[n];return s?s:(s=this.generate(this.parse(this.scan(e,i.delimiters),e,i),e,i),this.cache[n]=s)}}("undefined"!=typeof exports?exports:Hogan),function(){}.call(this);